

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Predicting Diabetes &#8212; Diabetes Prediection Project</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'README';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">Final Project for the Reproduciblity Class</div>
  </div>

  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="notebooks/main.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/Diabetes_logo.jpeg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/Diabetes_logo.jpeg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="notebooks/main.html">
                    Stat 159 Final Project: Diabetes
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="notebooks/EDA.html">Diabetes Dataset EDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="project-description.html">Final Project: original data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribution_statement.html">Author Contributions Statement</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/UCB-stat-159-s23/project-group25" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/UCB-stat-159-s23/project-group25/issues/new?title=Issue%20on%20page%20%2FREADME.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/README.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Predicting Diabetes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#repository-structure">Repository Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#makefile-commands">Makefile Commands</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="predicting-diabetes">
<h1>Predicting Diabetes<a class="headerlink" href="#predicting-diabetes" title="Permalink to this heading">#</a></h1>
<p><a class="reference external" href="https://mybinder.org/v2/gh/UCB-stat-159-s23/project-group25/HEAD?labpath=notebooks%2Fmain"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a>
All the content in this repository is available as a static website <a class="reference external" href="https://ucb-stat-159-s23.github.io/project-group25/">here</a></p>
<p>Authors: Sam Tan, Bruce Xu, Duy Anh, Donghoon Shin</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>This project aims to understand the predictive factors for becoming diabadic. The raw dataset can be downloaded here from<a class="reference external" href="https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset">Kaggle</a></p>
<p>We compared the performance of different models to predict if a person developed diabetes. Specifically, we compared the performance of OLS,  Decision Tree, Random Forest Classification and K Nearest Neighbor (KNN) model, and we found that the Random Forest model has the highest accuracy, 0.866. The KNN model generated a very low accuracy compared to other three classification models. However, It only achieved an accuracy of 0.837 in on the test set.</p>
<p>Since the Random Forest model gave the highest accuracy, we decide to further investigate the random forest model and try to optimize the accuracy of the random forest model. We attemped dropping duplicated records, but it didn’t improve testing accuracy. This is reasonable because the duplicated data appeared in the original dataset was not manually added by mistake. Instead, if duplicated data appeared, it means this specific “pattern of data” just appear more frequently than other records in the dataset. We can just return to our original dataset and try another way of optimizing the model.</p>
<p>TODO: explain the “balance” and “Analysis of weights to get intuition” section.</p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">#</a></h2>
<p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">env</span></code> will setup a new conda environment with the name with the required dependencies. To activate?? To install the tailor-made functions spcific to this project, please install the package <code class="docutils literal notranslate"><span class="pre">diabetes_analysis_tools</span></code> using  <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">diabetes_analysis_pkg/.</span></code> after from this diirectory. Use <code class="docutils literal notranslate"><span class="pre">diabetes-analysis</span></code> kernel to execute the Jupyter Notebook.</p>
</section>
<section id="repository-structure">
<h2>Repository Structure<a class="headerlink" href="#repository-structure" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data/</span></code> contains different datasets in csv formats</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">diabetes_012_health_indicators_BRFSS2015.csv</span></code> is XXX</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">diabetes_binary_5050split_health_indicators_BRFSS2015.csv</span></code> is XXX</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">diabetes_binary_health_indicators_BRFSS2015.csv</span></code> is XXX</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean.csv</span></code> is the cleaned version of <code class="docutils literal notranslate"><span class="pre">raw_data.csv</span></code> (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">train.csv</span></code> is the training dataset (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val.csv</span></code> is the validation dataset (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test.csv</span></code> is the testing dataset (TODO)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">figures/</span></code> contains generated figures from running the notebooks in <code class="docutils literal notranslate"><span class="pre">notebooks/</span></code> (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">notebooks/</span></code> contains the jupyter notebooks for data analysis</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">main.ipynb</span></code> summarizes and discusses the findings and outcomes of our analysis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cleaning.ipynb</span></code> prepares the data for later analysis (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EDA.ipynb</span></code> conducts data visualization</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">diabetes_analysis_pkg</span></code> contains the package, which has all the tailor-made functions for this project</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">diabetes_analysis_tools</span></code> is the name of the package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">functions.py</span></code> contains the functions (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests/</span></code> is the folder for the tests for the functions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests_functions.py</span></code> for testing the function (TODO)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> required to create python package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyproj.tml</span></code> required to create python package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> required to create python package</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> required for JupyterBook</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conf.py</span></code> required for JupyterBook</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_toc.yml</span></code> is the table of contents for JupyterBook</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">environment-jupyterbook.txt</span></code> packages for the book build in Github Actions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> is the conda environment for this repo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Makefile</span></code> make commands for easy execution</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> contains the license used by the repo</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">README.md</span></code> current document</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hw07-description.ipynb</span></code> Stat 159 assignment desctiption</p></li>
</ul>
</section>
<section id="makefile-commands">
<h2>Makefile Commands<a class="headerlink" href="#makefile-commands" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">make</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env</span></code> creates and configures the environment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remove-env</span></code> remove the environment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update-env</span></code> update the environment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">html</span></code> build the JupyterBook normally</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">html-hub</span></code> build the JupyterBook so that you can view it on the hub with the URL proxy trick: <a class="reference external" href="https://stat159.datahub.berkeley.edu/user-redirect/proxy/8000/index.html">https://stat159.datahub.berkeley.edu/user-redirect/proxy/8000/index.html</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean</span></code> clean up the generated figures, data, and _build folders.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code> run all the notebooks (<code class="docutils literal notranslate"><span class="pre">*.ipynb</span></code> in <code class="docutils literal notranslate"><span class="pre">notebooks/</span></code> and <code class="docutils literal notranslate"><span class="pre">main.ipynb</span></code>)</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#repository-structure">Repository Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#makefile-commands">Makefile Commands</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Sam Tan, Bruce Xu, Duy Anh, Donghoon Shin
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>